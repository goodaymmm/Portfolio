<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/layout :: html(~{::title}, ~{::section}, ~{::pageTitle}, ~{::pageActions})}">
<head>
    <title th:text="${title ?: '新規商品登録'} + ' | 在庫管理システム'">新規商品登録 | 在庫管理システム</title>
</head>
<body>
    <!-- ページタイトル部分 -->
    <h2 class="mb-0" th:fragment="pageTitle">
        <i class="bi bi-plus-circle text-primary"></i>
        <span th:text="${title ?: '新規商品登録'}">新規商品登録</span>
    </h2>
        
    <!-- ページアクション部分 -->
    <div th:fragment="pageActions">
        <a th:href="@{/inventory}" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left"></i>
            在庫一覧に戻る
        </a>
            </div>
            
    <!-- メインコンテンツ部分 -->
    <section>
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <form th:action="@{/inventory/add}" method="post" class="row g-3">
                            <div class="col-md-6">
                                <div th:replace="~{fragments/form-components :: text-input('itemId', '商品ID', ${item?.itemId}, true)}"></div>
            </div>
            
                            <div class="col-md-6">
                                <div th:replace="~{fragments/form-components :: text-input('name', '商品名', ${item?.name}, true)}"></div>
            </div>
            
                            <div class="col-md-6">
                                <div th:replace="~{fragments/form-components :: select('category', 'カテゴリー', ${categories}, ${item?.category}, true)}"></div>
            </div>
            
                            <div class="col-md-6">
                                <div th:replace="~{fragments/form-components :: currency-input('price', '価格', ${item?.price}, true)}"></div>
            </div>
            
                            <div class="col-md-4">
                                <div th:replace="~{fragments/form-components :: number-input('quantity', '在庫数', ${item?.quantity}, 0, true)}"></div>
            </div>
            
                            <div class="col-md-4">
                                <div th:replace="~{fragments/form-components :: number-input('minQuantity', '最小在庫数', ${item?.minQuantity}, 0, true)}"></div>
            </div>
            
                            <div class="col-md-4">
                                <div th:replace="~{fragments/form-components :: number-input('maxQuantity', '最大在庫数', ${item?.maxQuantity}, 0, true)}"></div>
            </div>
            
                            <!-- ステータスフィールドは非表示 -->
                            <input type="hidden" id="status" name="status" value="AVAILABLE">
                            
                            <div th:replace="~{fragments/form-components :: submit-buttons(@{/inventory})}"></div>
                        </form>
                    </div>
                </div>
            </div>
    </div>
    </section>
</body>
</html>